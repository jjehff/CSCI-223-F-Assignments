In this program you're to scan the input stream and determine if it consists solely of ASCII characters or not. What constitutes ASCII input? If all the characters read are ASCII characters, of course. But what constitutes an ASCII character? A character is an ASCII character if it has an integer range between 0 and 127. This is because an ASCII character technically only consists of 7 bits, and 0 to 127 is the range of unsigned values possible with 7 bits. But the smallest addressable unit of data is a byte, which is eight bits. That's why a single byte is used to store ASCII values, and the 8th bit just isn't used. Thus, a character is not an ASCII character if the 8th bit is set ("on") instead of cleared ("off").

So, how do you know if the 8th bit is set or cleared? You could simply test for integer values, but since we've been having so much fun with bitwise operators, you should instead use that approach. Which means you need to come up with a bitmask and a bit operator to test the most significant bit on a byte so you can see if it's an ASCII character or not. Play around with the truth tables and see if you can come up with an expression that will let you know if a target bit is set or not.

Your program should read its input from the standard input stream. That way, you can use redirection operators on the command line to attach stdin to an external file, making it easier to drive your program. If a non-ASCII byte is encountered you should write a message to stdout indicating the byte value read in hexadecimal and also the zero-based offset within the stream where the byte was detected. If you manage to make it all the way to the end of the stream with nothing but ASCII characters, write a message to stdout indicating that the input stream contained nothing but ASCII bytes and the total number of bytes read.

To help you with some defined input, I've created a couple of small files: mary.txt and mary.bin. The former is just a plain ASCII text file, whereas the latter is just a copy of the former, but I modified some of the bytes to create non-ASCII input. You should find this in the HW06 subdirectory in a file called maryfiles.tar.gz. To extract the files, just type tar xvzf maryfiles.tar.gz at the command line.

If you'd like to see some sample runs, take a look at the file IsAsciiSamples.pdf Download IsAsciiSamples.pdfPreview the document. Notice the behavior of the program when it's run with ASCII vs. non-ASCII input. Also, if you want to know if you're reading non-ASCII bytes at a particular offset within the input file, you can run the hexdump tool from the command line. The syntax is: hexdump -vC filename then press the Enter key. This will write a hexadecimal dump of the file argument to stdout. Basically you'll see three sections: the offsets within the file to the left, the hexadecimal bytes in the middle, and an ASCII representation of the hexadecimal data to the right (any non-displayable characters will appear as periods). If the file you're attempting to display is large enough to cause the display to scroll, you can redirect the output to a file using a redirection operator and examine its contents afterwards with a text editor.

Save your code in a file called isascii.c in the HW06 subdirectory so I can find it later. Have fun!
